[2025-02-07T21:44:15.362+0900] {local_task_job_runner.py:123} INFO - ::group::Pre task execution logs
[2025-02-07T21:44:15.367+0900] {taskinstance.py:2613} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: run_four_python_files.run_analysis scheduled__2025-02-07T12:43:00+00:00 [queued]>
[2025-02-07T21:44:15.370+0900] {taskinstance.py:2613} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: run_four_python_files.run_analysis scheduled__2025-02-07T12:43:00+00:00 [queued]>
[2025-02-07T21:44:15.370+0900] {taskinstance.py:2866} INFO - Starting attempt 1 of 1
[2025-02-07T21:44:15.376+0900] {taskinstance.py:2889} INFO - Executing <Task(BashOperator): run_analysis> on 2025-02-07 12:43:00+00:00
[2025-02-07T21:44:15.383+0900] {logging_mixin.py:190} WARNING - /Users/jingyounglee/miniforge3/envs/bitcoin/lib/python3.12/site-packages/airflow/task/task_runner/standard_task_runner.py:70 DeprecationWarning: This process (pid=29774) is multi-threaded, use of fork() may lead to deadlocks in the child.
[2025-02-07T21:44:15.384+0900] {standard_task_runner.py:72} INFO - Started process 29776 to run task
[2025-02-07T21:44:15.383+0900] {standard_task_runner.py:104} INFO - Running: ['airflow', 'tasks', 'run', 'run_four_python_files', 'run_analysis', 'scheduled__2025-02-07T12:43:00+00:00', '--job-id', '58', '--raw', '--subdir', 'DAGS_FOLDER/run_four_files.py', '--cfg-path', '/var/folders/sp/pflbc_w93l76v3kjctmz_4tw0000gn/T/tmp2_qd4bcn']
[2025-02-07T21:44:15.385+0900] {standard_task_runner.py:105} INFO - Job 58: Subtask run_analysis
[2025-02-07T21:44:15.405+0900] {task_command.py:467} INFO - Running <TaskInstance: run_four_python_files.run_analysis scheduled__2025-02-07T12:43:00+00:00 [running]> on host macbook-pro-3.local
[2025-02-07T21:44:15.437+0900] {taskinstance.py:3132} INFO - Exporting env vars: AIRFLOW_CTX_DAG_OWNER='airflow' AIRFLOW_CTX_DAG_ID='run_four_python_files' AIRFLOW_CTX_TASK_ID='run_analysis' AIRFLOW_CTX_EXECUTION_DATE='2025-02-07T12:43:00+00:00' AIRFLOW_CTX_TRY_NUMBER='1' AIRFLOW_CTX_DAG_RUN_ID='scheduled__2025-02-07T12:43:00+00:00'
[2025-02-07T21:44:15.437+0900] {taskinstance.py:731} INFO - ::endgroup::
[2025-02-07T21:44:15.446+0900] {subprocess.py:78} INFO - Tmp dir root location: /var/folders/sp/pflbc_w93l76v3kjctmz_4tw0000gn/T
[2025-02-07T21:44:15.447+0900] {subprocess.py:88} INFO - Running command: ['/bin/bash', '-c', 'python model/analysis/load_and_analysis3.py']
[2025-02-07T21:44:15.451+0900] {subprocess.py:99} INFO - Output:
[2025-02-07T21:44:20.371+0900] {subprocess.py:106} INFO - 거래 로그가 'trade_log.csv'에 저장되었습니다.
[2025-02-07T21:44:20.376+0900] {subprocess.py:106} INFO - 레버리지가 5배로 설정되었습니다: {'symbol': 'BTCUSDT', 'leverage': 5, 'maxNotionalValue': '480000000'}
[2025-02-07T21:44:20.377+0900] {subprocess.py:106} INFO - 수행해야 하는 동작: 홀드
[2025-02-07T21:44:20.378+0900] {subprocess.py:106} INFO - 현재 BTCUSDT 포지션: NONE, 수량: 0.009
[2025-02-07T21:44:20.379+0900] {subprocess.py:106} INFO - Futures 계좌 USDT 잔액: 197.45026259
[2025-02-07T21:44:20.380+0900] {subprocess.py:106} INFO - 주문할 명목 가치 (Notional Value): 987.2513129499999
[2025-02-07T21:44:20.381+0900] {subprocess.py:106} INFO - 현재 BTCUSDT 가격: 97900.1
[2025-02-07T21:44:20.382+0900] {subprocess.py:106} INFO - 주문할 BTC 수량: 0.01
[2025-02-07T21:44:20.382+0900] {subprocess.py:106} INFO - Closed position: BTCUSDT, Side: SELL, Qty: 0.009
[2025-02-07T21:44:20.383+0900] {subprocess.py:106} INFO - 주문 성공: {'orderId': 578568046325, 'symbol': 'BTCUSDT', 'status': 'NEW', 'clientOrderId': 'x-Cb7ytekJ337691c65e1fc4040c1be7', 'price': '0.00', 'avgPrice': '0.00', 'origQty': '0.010', 'executedQty': '0.000', 'cumQty': '0.000', 'cumQuote': '0.00000', 'timeInForce': 'GTC', 'type': 'MARKET', 'reduceOnly': False, 'closePosition': False, 'side': 'BUY', 'positionSide': 'BOTH', 'stopPrice': '0.00', 'workingType': 'CONTRACT_PRICE', 'priceProtect': False, 'origType': 'MARKET', 'priceMatch': 'NONE', 'selfTradePreventionMode': 'EXPIRE_MAKER', 'goodTillDate': 0, 'updateTime': 1738932260320}
[2025-02-07T21:44:20.383+0900] {subprocess.py:106} INFO - 최종 포트폴리오 가치: 1.1393
[2025-02-07T21:44:20.384+0900] {subprocess.py:106} INFO - 전체 누적 수익률: 13.93%
[2025-02-07T21:44:20.817+0900] {subprocess.py:110} INFO - Command exited with return code 0
[2025-02-07T21:44:20.830+0900] {taskinstance.py:340} INFO - ::group::Post task execution logs
[2025-02-07T21:44:20.830+0900] {taskinstance.py:352} INFO - Marking task as SUCCESS. dag_id=run_four_python_files, task_id=run_analysis, run_id=scheduled__2025-02-07T12:43:00+00:00, execution_date=20250207T124300, start_date=20250207T124415, end_date=20250207T124420
[2025-02-07T21:44:20.874+0900] {local_task_job_runner.py:266} INFO - Task exited with return code 0
[2025-02-07T21:44:20.880+0900] {taskinstance.py:3895} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2025-02-07T21:44:20.881+0900] {local_task_job_runner.py:245} INFO - ::endgroup::
